# Σημειώσεις - Διπλωαμτική Εργασία #6
Ημερομηνία: 15-16/04/2023 \
Πηγή: [Μελέτη και ανάπτυξη φορητού συστήματος επαυξημένης πραγματικότητας με τεχνολογία hololens](https://nemertes.library.upatras.gr/items/0965eddb-2e64-4901-96a6-dfa9ba96f7dd)

---

# 1. Γενικές Σημειώσεις
Πρόβλημα προς επίλυση: Χωρική πλοήγηση \
Χρήση HoloLens 1 - Συζήτηση για Hololens 2

# 1.1. Χρήσιμη βιβλιογραφία
- 3, 49, 11
- Scripts: `FloorFinder.cs`, `LookingDirection.cs`, `SimpleTagalong.cs`, `Billboarding.cs`

# 2. Περιγραφή Hololens
- 3 κουμπιά &rarr; On/Off, Ένταση ήχου, Ρύθμιση αντίθεσης φακών
- Χρήση gaze (κίνηση κεφαλιού), gestures και φωνητικών εντολών για χειρισμό
    - Χρήση και clicker (Bluetooth) για χειρισμό
- Τα εικονικά αντικείμενα μπορούν να προβληθούν σε οποιαδήποτε απόσταση και θέση. Είναι είτε συμπαγή είτε ημιδιαφανή
- C# (Unity, Visual Studio) ή Javascript
- Microsoft Hololens Emulator
- Κατάλληλος χώρος χρήσης: 
    - Εσωτερικός χώρος με επαρκές φως
    - Αποφυγή χώρων με πολλά κινούμενα αντικείμενα
- Μπαταρία: 2-3 ώρες

## 2.1. Ήχος
- [x] **Κατευθηντήριος ήχος**

## 2.2. Επεξεργαστές
- CPU, GPU, HPU (Holographic PU)
- Εργάζονται παράλληλα

## 2.3. Μονάδα Αδρανειακής Μέτρησης
- Επιταχυνσιόμετρο
- Γυροσκόπιο
- Μαγνητόμετρο

## 2.4. Κάμερες & Μικρόφωνο
- 5 κάμερες &rarr; 1 μπροστά, 2 δεξιά, 2 αριστερά
- 1 υπέρυθρη κάμερα μπροστά
- 1 υπέρυθρος προβολέας laser
    - Για σάρωση αντικειμένων
- 1 μικρόφωνο (για φωνητικές εντολές)

## 2.5. Gestures
- Air-tap
- Bloom
- Tap and Hold

# 3. Mixed Reality Toolkit
- APIs:
    - Input (Gaze, Gesture, Voice)
    - Sharing: συνεργασία διαφορετικών συσκευών Hololens στην ίδια εφαρμογή
    - **Spatial Mapping**: Ψηφιακός χώρος μεταφέρεται στον εικονικό μέσω της χαρτογράφησης
    - **Spatial Sound**: Χωρικός ήχος
    - UX Controls
    - **Spatial Understanding**: Μετά από επεξεργασία του Spatial Mapping, αναγνώριση αντικειμένων με βάση το σχήμα και τη θέση στο χώρο
    - Build
    - **Boundary**: Αναγνώριση δαπέδου και χωρικών συνόρων

# 4. Development Notes
- Unity &rarr; Configure &rarr; Apply Mixed Reality Project Settings
- Game Objects:
    - Default Cursor: Κέρσορας Hololens
    - Input Manager: Διαχείριση gestures
    - Mixed reality camera parent: Κάμερα
        - To Transform της κάμερας είναι σημείο αναφοράς και είναι προτιμότερο να είναι (0, 0, 0)
    - Spatial Mapping Prefab / Spatial Understanding Prefab (καλύτερη και υψηλότερη ανάλυση του χώρου)
        - Μπορούμε να καθορίσουμε την ακρίβεια ορίζοντας τα όρια του Spatial Mapping (extents) και το πλήθος τριγώνων ανα τετραγωνικό μέτρο
        - Occlusion: Μη απεικόνιση του wireframe του Spatial Mapping στον Χρήστη
        - Material Wireframe: Απεικόνιση του wireframe
        - Δυνατότητα αναγνώρισης χώρων που έχουν σαρωθεί παλιότερα (π.χ. σπίτι Χρήστη). Οι χώροι αποθηκεύονται τοπικά
    - Έλεγχος ύψους δαπέδου ανά frame. Σύγκριση με την τιμή από το προηγούμενο frame. Όταν περάσει κάποιο threshold, ανανέωση ύψους.
    - Τα ολογράμματα σε απόσταση < 1 μέτρο είναι δυσδιάκριτα ή καθόλου εμφανή.
    - Canvas: γονεϊκό game object όπου εντάσσονται όλα τα αντικείμενα που ανήκουν στο UI
    - Tag-along: αντικείμενα κλειδώνουν εντός του οπτικού πεδίου
    - Billboarding: αντικείμενα προσανατολίζονται προς τον χρήστη
    - Σημεία αναφοράς:
        - Room-Scale Experience
        - World-Scale Experience (απαραίτητο όταν ο χρήστης μετακινείται πάνω από 5 μέτρα)
            - Απαραίτητη η χρήση spatial anchor (κλειδώνει αντικείμενο σε συγκεκριμένο σημείο στον χώρο/κόσμο και δεν μετακινείται μέχρι αν αφαιρεθεί το anchor) &rarr; WorldAnchorManager.cs
            - Κάνουμε attach το anchor σε ένα game object. Το ID του anchor αποθηκεύεται στο WorldAnchorStore
            - Μετά την σάρωση ενός χώρου, αν ενοπιστεί σημείο αναφοράς, τοποθετείται το αντικείμενο στο σημείο αυτό
            - Ένα anchor μπορεί να λειτουργήσει ως σημείο αναφοράς και για άλλα αντικείμενα, αρκεί να είναι σε απόσταση < 3 μέτρων